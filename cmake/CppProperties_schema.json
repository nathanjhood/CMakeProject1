{
  "$schema": "http://json-schema.org/draft-04/schema#",

  "definitions": {
    "inheritEnvironments": {
      "type": "array",
      "items": { "type": "string" },
      "description": "List of inherited environments."
    },

    "environments": {
      "type": "array",
      "description": "A list of environment groups that can be inherited from by the project configurations.",
      "items": {
        "type": "object",
        "properties": {
          "namespace": {
            "type": "string",
            "description": "Prefix for variables defined in this environment group. 'env' by default."
          },
          "environment": {
            "type": "string",
            "description": "Name of the environment group."
          },
          "priority": {
            "type": "integer",
            "description": "Priority of environment group, from 0 to 400."
          },
          "inheritEnvironments": { "$ref": "#/definitions/inheritEnvironments" }
        }
      }
    },

    "compiler": {
      "type": "object",
      "properties": {
        "path": {
          "type": "string",
          "description": "The full path to the compiler used to build the project. Visual Studio will query this compiler to configure IntelliSense. The compiler must support a GCC-compatible command line."
        },
        "standard": {
          "type": "string",
          "description": "The version of the language standard to use for IntelliSense. This value will be passed with the \"--std=\" switch when configuring IntelliSense."
        },
        "args": {
          "type": "string",
          "description": "Additional arguments to pass to the compiler when querying for predefined macros and include paths. If unspecified, the value of \"compilerSwitches\" will be used instead."
        }
      },
      "required": [ "path" ],
      "additionalProperties": false
    }
  },

  "type": "object",
  "properties": {
    "projectName": {
      "type": "string",
      "description": "The display name of the project"
    },
    "environments": { "$ref": "#/definitions/environments" },
    "configurations": {
      "type": "array",
      "description": "A list of C++ configurations that apply to all C++ source files in the current directory tree",
      "items": {
        "type": "object",
        "properties": {
          "name": {
            "type": "string",
            "description": "The name of the configuration"
          },
          "includePath": {
            "type": "array",
            "items": { "type": "string" },
            "description": "The list of include paths. You can use ${workspaceRoot} or any environment variables ${env.VARIABLE} to specify these paths"
          },
          "defines": {
            "type": "array",
            "items": { "type": "string" },
            "description": "The list of preprocessor macro definitions"
          },
          "undefines": {
            "type": "array",
            "items": { "type": "string" },
            "description": "The list of predefined preprocessor macros to ignore"
          },
          "forcedInclude": {
            "type": "array",
            "items": { "type": "string" },
            "description": "The list of header files included unconditionally. You can use ${workspaceRoot} or any environment variables ${env.VARIABLE} to specify these paths"
          },
          "compilerSwitches": {
            "type": "string",
            "description": "Additional compiler switches for IntelliSense"
          },
          "intelliSenseMode": {
            "type": "string",
            "description": "IntelliSense engine to use. Examples: windows-msvc-x86, linux-gcc-x64, etc.",
            "enum": [
              "windows-msvc-x86",
              "windows-msvc-x64",
              "windows-msvc-arm",
              "windows-msvc-arm64",
              "android-clang-x86",
              "android-clang-x64",
              "android-clang-arm",
              "android-clang-arm64",
              "ios-clang-x86",
              "ios-clang-x64",
              "ios-clang-arm",
              "ios-clang-arm64",
              "windows-clang-x86",
              "windows-clang-x64",
              "windows-clang-arm",
              "windows-clang-arm64",
              "linux-gcc-x86",
              "linux-gcc-x64",
              "linux-gcc-arm"
            ]
          },
          "environments": { "$ref": "#/definitions/environments" },
          "inheritEnvironments": { "$ref": "#/definitions/inheritEnvironments" },
          "compilers": {
            "type": "object",
            "description": "The compilers used by the project. These compilers will be queried by Visual Studio to configure IntelliSense.",
            "properties": {
              "c": {
                "$ref": "#/definitions/compiler"
              },
              "cpp": {
                "$ref": "#/definitions/compiler"
              }
            },
            "additionalProperties": false
          }
        },
        "required": [
          "name"
        ]
      }
    }
  },
  "required": [
    "configurations"
  ]
}
